---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import ArrowCard from "@components/ArrowCard";
import StackCard from "@components/StackCard.astro";
import { SITE, SOCIALS } from "@consts";

const posts = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);

const projects = (await getCollection("projects"))
  .filter((project) => !project.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);

const stack = [
  {
    text: "Astro",
    icon: "astro",
    href: "https://astro.build",
  },
  {
    text: "Javascript",
    icon: "javascript",
    href: "https://www.javascript.com",
  },
  {
    text: "Typescript",
    icon: "typescript",
    href: "https://www.typescriptlang.org",
  },
  {
    text: "Tailwind",
    icon: "tailwind",
    href: "https://tailwindcss.com",
  },
];
---

<PageLayout title="Inicio" description={SITE.DESCRIPTION}>
  <!-- Light Mode: Particles -->
  <div class="absolute inset-0 block dark:hidden">
    <div id="particles1" class="fixed inset-0"></div>
    <div id="particles2" class="fixed inset-0"></div>
    <div id="particles3" class="fixed inset-0"></div>
  </div>

  <!-- Dark Theme: Stars -->
  <div class="absolute inset-0 bg-black hidden dark:block">
    <div id="stars1" class="fixed inset-0"></div>
    <div id="stars2" class="fixed inset-0"></div>
    <div id="stars3" class="fixed inset-0"></div>
  </div>

  <script is:inline src="/js/bg.js"></script>

  <!-- HERO -->
  <section class="relative h-screen w-full">
    <div
      id="planetcont"
      class="animate absolute inset-0 top-1/4 overflow-hidden"
    >
      <div
        id="crescent"
        class="absolute top-0 left-1/2 -translate-x-1/2 w-[250vw] min-h-[100vh] aspect-square rounded-full p-[1px] bg-gradient-to-b from-black/25 dark:from-white/75 from-0% to-transparent to-5%"
      >
        <div
          id="planet"
          class="w-full h-full bg-white dark:bg-black rounded-full p-[1px] overflow-hidden flex justify-center"
        >
          <div
            id="blur"
            class="w-full h-20 rounded-full bg-neutral-900/25 dark:bg-white/25 blur-3xl"
          >
          </div>
        </div>
      </div>
    </div>
    <div
      class="animate absolute h-full w-full flex items-center justify-center"
    >
      <div class="relative w-1/3 h-full flex items-center justify-center">
        <div class="p-5 pt-36 text-center">
          <p
            class="animated text-lg md:text-xl lg:text-2xl font-semibold opacity-75"
          >
            Dynamicalnet
          </p>
          <p
            class="animated text-2xl md:text-3xl lg:text-4xl font-bold uppercase text-black dark:text-white"
          >
            La digitalización es el paradigma de la era actual.
          </p>
          <p class="animated text-sm md:text-base lg:text-lg opacity-75">
            La era de la digitalización ha llegado para quedarse. La
            transformación digital es un proceso que se ha acelerado en los
            últimos años y que ha llegado para quedarse. La digitalización es el
            paradigma de la era actual.
          </p>
          <div
            id="ctaButtons"
            class="animated flex flex-wrap gap-4 justify-center mt-5"
          >
            <a
              href="/blog"
              class="py-2 px-4 rounded truncate text-xs md:text-sm lg:text-base bg-black dark:bg-white text-white dark:text-black hover:opacity-75 blend"
            >
              ¿Cómo lo hago?
            </a>
            <a
              href="/work"
              class="py-2 px-4 truncate rounded text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend"
            >
              Proyectos
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-screen-sm p-5 space-y-24 pb-16">
      <!-- About Section -->
      <section class="animate">
        <article>
          <p>
            Soy <b><i>Arquitecto de software</i></b> con 6 años de experiencia en
            gestión de sistemas informáticos, desarrollo de software y diseño de
            infraestructuras para equipos de trabajo. He trabajado como gerente de
            tecnologías de la información en el laboratorio AsemhLab, liderando proyectos
            digitales en el sector de la gestión de la calidad.
          </p>

          <p>Algunas de mis habilidades incluyen:</p>
          <ul>
            <li>Desarrollo de aplicaciones web con WordPress</li>
            <li>Diseño de interfaces de usuario con Figma</li>
            <li>Contenedores con <b><i>Docker</i></b></li>
            <li>Integración continua con <b><i>Jenkins</i></b></li>
            <li>
              Implementación de prácticas de calidad y seguridad en el
              desarrollo de software
            </li>
          </ul>

          <p>
            Mi verdadera pasión es crear procesos automatizados y proporcionar
            un trabajo más fluido a las empresas con las que colaboro. Me motiva
            participar en proyectos desafiantes que requieran investigación
            autodidacta y resolución dinámica de problemas.
          </p>

          <p>
            En mi cargo como gerente de tecnologías de la información en
            AsemhLab, he liderado la implementación de estrategias tecnológicas
            innovadoras para mejorar la eficiencia y la calidad de los procesos
            digitales. Esto incluye la optimización de infraestructuras, la
            gestión de proyectos digitales y la integración de herramientas de
            colaboración como Slack para automatizaciones y workflows.
          </p>

          <p>
            Actualmente, mi enfoque está en seguir desarrollando soluciones
            tecnológicas que impulsen el éxito y la eficiencia en los entornos
            digitales.
          </p>
        </article>
      </section>

      <!-- Blog Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">Entradas recientes</p>
            <a
              href="/blog"
              class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend"
            >
              <span
                class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend"
              >
                Todas las entradas
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {
              posts.map((post) => (
                <li>
                  <ArrowCard entry={post} />
                </li>
              ))
            }
          </ul>
        </div>
      </section>

      <!-- Tech Stack Section -->
      <section class="animate">
        <div class="space-y-4">
          <p class="font-semibold text-black dark:text-white">
            Website build with
          </p>
          <div class="flex flex-wrap items-center gap-2 mt-5">
            {
              stack.map((item) => (
                <StackCard text={item.text} icon={item.icon} href={item.href} />
              ))
            }
          </div>
        </div>
      </section>

      <!-- Project Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              Proyectos recientes
            </p>
            <a
              href="/projects"
              class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend"
            >
              <span
                class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend"
              >
                Todos los proyectos
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {
              projects.map((project) => (
                <li>
                  <ArrowCard entry={project} />
                </li>
              ))
            }
          </ul>
        </div>
      </section>

      <!-- Contact Section -->
      <section class="animate">
        <div>
          <p class="font-semibold text-black dark:text-white">Contactame</p>
            <p>Contáctame por correo electrónico o en las redes sociales.</p>
          <div class="grid grid-cols-4 gap-y-2 mt-4 auto-cols-min">
            {
              SOCIALS.map((social) => (
                <>
                  <div class="col-span-1 flex items-center gap-1">
                    <span class="whitespace-nowrap truncate">
                      {social.NAME}
                    </span>
                  </div>
                  <div class="col-span-3 truncate">
                    <a
                      href={social.HREF}
                      target="_blank"
                      class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend"
                    >
                      <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                        {social.TEXT}
                      </span>
                    </a>
                  </div>
                </>
              ))
            }
          </div>
        </div>
      </section>
    </div>
  </div>
</PageLayout>
